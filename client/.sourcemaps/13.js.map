{"version":3,"sources":["../../src/pages/cadastro/cadastro.module.ts","../../src/pages/cadastro/cadastro.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CadastroPage } from './cadastro';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CadastroPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CadastroPage),\r\n  ],\r\n})\r\nexport class CadastroPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadastro/cadastro.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController, Platform } from 'ionic-angular';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { MedicosProvider } from './../../providers/medicos/medicos';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-cadastro',\r\n  templateUrl: 'cadastro.html',\r\n})\r\nexport class CadastroPage {\r\n  cadastro: string = 'paciente';\r\n  private patient: FormGroup;\r\n  private doctor: FormGroup;\r\n  private socialNetwork: FormGroup;\r\n  private loading: any;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public toastCtrl: ToastController,\r\n    private afAuth: AngularFireAuth,\r\n    private formBuilder: FormBuilder,\r\n    public loadingCtrl: LoadingController,\r\n    private fb: Facebook,\r\n    private googlePlus: GooglePlus,\r\n    private platform: Platform,\r\n    private medicoPv: MedicosProvider) {\r\n\r\n    this.patient = this.formBuilder.group({\r\n      email: ['', Validators.email],\r\n      password: ['', Validators.required],\r\n      password_confirm: ['', Validators.required],\r\n    });\r\n\r\n    this.doctor = this.formBuilder.group({\r\n      crm: ['', [Validators.required, Validators.minLength(4)]],\r\n      email: ['', Validators.email],\r\n      password: ['', Validators.required],\r\n      password_confirm: ['', Validators.required],\r\n    });\r\n\r\n    this.socialNetwork = this.formBuilder.group({\r\n      crm: ['', [Validators.required, Validators.minLength(4)]]\r\n    });\r\n\r\n  }\r\n\r\n  createUserWithEmailAndPassPatient() {\r\n    this.presentLoading();\r\n    this.afAuth.auth.createUserWithEmailAndPassword(this.patient.value.email, this.patient.value.password)\r\n      .then(user => {\r\n        console.log(user);\r\n\r\n        this.loading.dismiss();\r\n      }).catch(error => {\r\n        this.loading.dismiss();\r\n        this.showMessage(error);\r\n      });\r\n  }\r\n\r\n  createUserWithEmailAndPassDoctor() {\r\n\r\n    this.presentLoading();\r\n    this.afAuth.auth.createUserWithEmailAndPassword(this.doctor.value.email, this.doctor.value.password)\r\n      .then(res => {\r\n        console.log(res);\r\n        \r\n        var doctor = {\r\n          uid: res.uid,\r\n          crm: this.doctor.value.crm,\r\n          email: this.doctor.value.email\r\n        };\r\n\r\n        this.medicoPv.update(doctor);\r\n\r\n        this.loading.dismiss();\r\n      }).catch(error => {\r\n        this.loading.dismiss();\r\n        this.showMessage(error);\r\n      });\r\n  }\r\n\r\n  signInWithFacebook(tipoUsuario) {\r\n    if (this.platform.is('cordova')) {\r\n      this.fb.login(['email', 'public_profile']).then(res => {\r\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\r\n        firebase.auth().signInWithCredential(facebookCredential);\r\n      })\r\n    }\r\n    else {\r\n      this.presentLoading();\r\n      this.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider()).then(res => {\r\n        this.loading.dismiss();\r\n      }).catch(error => {\r\n        this.loading.dismiss();\r\n        console.log(error);\r\n        this.showMessage(\"Falha na autenticação com o facebook, por favor, tente novamente.\");\r\n      });\r\n    }\r\n  }\r\n\r\n  signInWithGoogle() {\r\n    this.presentLoading();\r\n    if (this.platform.is('cordova')) {\r\n      this.googlePlus.login({\r\n        'webClientId': '16912875697-dbcv548e0df2h119sp6iifgqdu388p66.apps.googleusercontent.com',\r\n        'offline': true\r\n      }).then(res => {\r\n        this.loading.dismiss();\r\n        const googleCredential = firebase.auth.GoogleAuthProvider.credential(res.idToken);\r\n        firebase.auth().signInWithCredential(googleCredential);\r\n      }).catch(err => {\r\n        this.loading.dismiss();\r\n        this.showMessage(\"Falha na autenticação com o google, por favor, tente novamente.\");\r\n      });\r\n\r\n    } else {\r\n      this.afAuth.auth\r\n        .signInWithPopup(new firebase.auth.GoogleAuthProvider())\r\n        .then(res => {\r\n          this.loading.dismiss();\r\n        }).catch(error => {\r\n          this.loading.dismiss();\r\n          console.log(error);\r\n          this.showMessage(\"Falha na autenticação com o google, por favor, tente novamente.\");\r\n        });\r\n    }\r\n  }\r\n\r\n  signInWithGoogleAndFacebook() {\r\n\r\n  }\r\n  showMessage(m) {\r\n    console.log(m);\r\n    let toast = this.toastCtrl.create({\r\n      message: m,\r\n      showCloseButton: true,\r\n      closeButtonText: 'Ok',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  presentLoading() {\r\n    this.loading = this.loadingCtrl.create({\r\n      dismissOnPageChange: true\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n  openPage(page) {\r\n    this.navCtrl.push(page);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cadastro/cadastro.ts"],"sourceRoot":""}