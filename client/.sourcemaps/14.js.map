{"version":3,"sources":["../../src/pages/alergias/alergias.module.ts","../../src/pages/alergias/alergias.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AlergiasPage } from './alergias';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AlergiasPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AlergiasPage),\r\n  ],\r\n})\r\nexport class AlergiasPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/alergias/alergias.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { GlobalProvider } from '../../providers/global/global';\r\nimport { AlergiasProvider } from '../../providers/alergias/alergias';\r\n\r\n\r\n/**\r\nAba de alergia (tipo de alergia, descrição alergia)\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-alergias',\r\n  templateUrl: 'alergias.html',\r\n})\r\nexport class AlergiasPage {\r\n  buscaAlergia: any;\r\n  private alergiasForm: FormGroup;\r\n  private alergiaSegment: string;\r\n  private uid: string;\r\n  private alergias: Array<{}>;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private formBuilder: FormBuilder,\r\n    private global: GlobalProvider,\r\n    public toastCtrl: ToastController,\r\n    private alergiasPv: AlergiasProvider) {\r\n\r\n    this.alergiaSegment = 'lista';\r\n\r\n    this.alergias = [];\r\n\r\n    this.alergiasForm = this.formBuilder.group({\r\n      tipo: ['', Validators.required],\r\n      descricao: ['', Validators.required]\r\n    });\r\n    \r\n   this.global.getCurrentUser().then((user) => {\r\n       if(user){\r\n         this.uid = user.uid;\r\n         this.buscaAlergia = this.alergiasPv.selectByUID(this.uid).snapshotChanges().subscribe(actions =>{\r\n         var data = [];\r\n         actions.forEach(action =>{\r\n          var items = action.payload.val();\r\n          items.key = action.key;\r\n          data.push(items);    \r\n             });    \r\n             this.alergias = data; \r\n\r\n         });\r\n       }else{\r\n        this.navCtrl.setRoot('HomePage');\r\n       }\r\n\r\n   });\r\n\r\n\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad AlergiasPage');\r\n  }\r\n\r\n  ngOnDestroy(){\r\n    this.buscaAlergia.unsubscribe();\r\n  }\r\n\r\n\r\n \r\n  addAlergias() {\r\n    var alergia = {\r\n     uid: this.uid,\r\n     tipo: this.alergiasForm.value.tipo,\r\n     descricao: this.alergiasForm.value.descricao\r\n      }\r\n\r\n      this.alergiasPv.updateAlergia(alergia);\r\n      this.alergiasForm.reset();\r\n      this.showMessage(\"Registro salvo com sucesso.\");\r\n\r\n  }\r\n\r\n\r\n  deleteAlergia(alergias, i) {\r\n    this.alergiasPv.deleteAlergia(alergias[i].key);\r\n  }\r\n\r\n  showMessage(m){\r\n   let toast = this.toastCtrl.create({\r\n    message: m,\r\n    showCloseButton: true,\r\n    closeButtonText: 'Ok',\r\n    duration: 3000\r\n  });\r\n  toast.present();\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/alergias/alergias.ts"],"sourceRoot":""}